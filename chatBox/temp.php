<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Realtime Chat App | CodingNepal</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">
</head>

<body _c_t_common="1" data-new-gr-c-s-check-loaded="14.1065.0" data-gr-ext-installed="" cz-shortcut-listen="true">
    <div class="wrapper">
        <section class="chat-area">
            <header>
                <a href="users.php" class="back-icon"><i class="fas fa-arrow-left"></i></a>
                <img src="php/images/1656255815DFF6AF61-0537-498E-83DD-EF6B5E9BDB3E.jpeg" alt="">
                <div class="details">
                    <span>Brad Schwan</span>
                    <p>Active now</p>
                </div>
            </header>
            <div class="chat-box">
                <div class="chatRow">
                    <div class="chat chatLeft">
                        <div class="chatDetails">
                            <div class="textAndOptions">
                                <textarea onkeyup="textAreaAdjust(this)" class="chatText chatTextLeft chatText1" type="text">Hi Bruh</textarea>
                            </div>
                            <div class="menu__item--meatball leftOpt" tabindex="5" onclick="moreOptions(this)">
                                <div class="circle"></div>
                                <div class="circle"></div>
                                <div class="circle"></div>
                            </div>
                            <div class="moreOptions" style="display: none;">
                                <div>
                                    <button>Delete</button>
                                </div>
                                <div>
                                    <button>Record</button>
                                </div>
                            </div>
                            <div class="senderName">Muhammad : Directors : 20:04</div>
                        </div>

                    </div>

                    <div class="chat chatRight">
                        <div class="chatDetails">
                            <div class="textAndOptions">
                                <textarea onkeyup="textAreaAdjust(this)" class="chatText chatTextRight chatText1" type="text">How are you doing</textarea>
                            </div>
                            <div class="menu__item--meatball rightOpt" tabindex="5" onclick="moreOptions(this)">
                                <div class="circle"></div>
                                <div class="circle"></div>
                                <div class="circle"></div>
                            </div>
                            <div class="moreOptions" style="display: none;">
                                <div>
                                    <button>Delete</button>
                                </div>
                                <div>
                                    <button>Record</button>
                                </div>
                            </div>
                            <div class="userName">Muhammad : Directors : 20:04</div>
                        </div>
                    </div>
                </div>
                <div class="chatRow">
                    <div class="chat chatLeft">
                        <div class="chatDetails">
                            <div class="textAndOptions">
                                <textarea onkeyup="textAreaAdjust(this)" class="chatText chatTextLeft chatText1" type="text">Hi Bruh</textarea>
                            </div>
                            <div class="menu__item--meatball leftOpt" tabindex="5" onclick="moreOptions(this)">
                                <div class="circle"></div>
                                <div class="circle"></div>
                                <div class="circle"></div>
                            </div>
                            <div class="moreOptions" style="display: none;">
                                <div>
                                    <button>Delete</button>
                                </div>
                                <div>
                                    <button>Record</button>
                                </div>
                            </div>
                            <div class="senderName">Muhammad : Directors : 20:04</div>
                        </div>

                    </div>

                    <div class="chat chatRight">
                        <div class="chatDetails">
                            <div class="textAndOptions">
                                <textarea onkeyup="textAreaAdjust(this)" class="chatText chatTextRight chatText1" type="text">How are you doing</textarea>
                            </div>
                            <div class="menu__item--meatball rightOpt" tabindex="5" onclick="moreOptions(this)">
                                <div class="circle"></div>
                                <div class="circle"></div>
                                <div class="circle"></div>
                            </div>
                            <div class="moreOptions" style="display: none;">
                                <div>
                                    <button>Delete</button>
                                </div>
                                <div>
                                    <button>Record</button>
                                </div>
                            </div>
                            <div class="userName">Muhammad : Directors : 20:04</div>
                        </div>
                    </div>
                </div>
                <div class="chatRow">
                    <div class="chat chatLeft">
                        <div class="chatDetails">
                            <div class="textAndOptions">
                                <textarea onkeyup="textAreaAdjust(this)" class="chatText chatTextLeft chatText1" type="text">Hi Bruh</textarea>
                            </div>
                            <div class="menu__item--meatball leftOpt" tabindex="5" onclick="moreOptions(this)">
                                <div class="circle"></div>
                                <div class="circle"></div>
                                <div class="circle"></div>
                            </div>
                            <div class="moreOptions" style="display: none;">
                                <div>
                                    <button>Delete</button>
                                </div>
                                <div>
                                    <button>Record</button>
                                </div>
                            </div>
                            <div class="senderName">Muhammad : Directors : 20:04</div>
                        </div>

                    </div>

                    <div class="chat chatRight">
                        <div class="chatDetails">
                            <div class="textAndOptions">
                                <textarea onkeyup="textAreaAdjust(this)" class="chatText chatTextRight chatText1" type="text">How are you doing</textarea>
                            </div>
                            <div class="menu__item--meatball rightOpt" tabindex="5" onclick="moreOptions(this)">
                                <div class="circle"></div>
                                <div class="circle"></div>
                                <div class="circle"></div>
                            </div>
                            <div class="moreOptions" style="display: none;">
                                <div>
                                    <button>Delete</button>
                                </div>
                                <div>
                                    <button>Record</button>
                                </div>
                            </div>
                            <div class="userName">Muhammad : Directors : 20:04</div>
                        </div>
                    </div>
                </div>
                <div class="chatRow">
                    <div class="chat chatLeft">
                        <div class="chatDetails">
                            <div class="textAndOptions">
                                <textarea onkeyup="textAreaAdjust(this)" class="chatText chatTextLeft chatText1" type="text">Hi Bruh</textarea>
                            </div>
                            <div class="menu__item--meatball leftOpt" tabindex="5" onclick="moreOptions(this)">
                                <div class="circle"></div>
                                <div class="circle"></div>
                                <div class="circle"></div>
                            </div>
                            <div class="moreOptions" style="display: none;">
                                <div>
                                    <button>Delete</button>
                                </div>
                                <div>
                                    <button>Record</button>
                                </div>
                            </div>
                            <div class="senderName">Muhammad : Directors : 20:04</div>
                        </div>

                    </div>

                    <div class="chat chatRight">
                        <div class="chatDetails">
                            <div class="textAndOptions">
                                <textarea onkeyup="textAreaAdjust(this)" class="chatText chatTextRight chatText1" type="text">How are you doing</textarea>
                            </div>
                            <div class="menu__item--meatball rightOpt" tabindex="5" onclick="moreOptions(this)">
                                <div class="circle"></div>
                                <div class="circle"></div>
                                <div class="circle"></div>
                            </div>
                            <div class="moreOptions" style="display: none;">
                                <div>
                                    <button>Delete</button>
                                </div>
                                <div>
                                    <button>Record</button>
                                </div>
                            </div>
                            <div class="userName">Muhammad : Directors : 20:04</div>
                        </div>
                    </div>
                </div>
                <!-- <div class="msgRow">
                    <div class="chat incoming inc">
                        <div class="details">
                            <textarea onkeyup="textAreaAdjust(this)" class="IncMsg msg chatText2" type="text">Hi Bruh</textarea>
                            <div class="senderName">Muhammad : Directors : 20:04</div>

                        </div>
                    </div>
                    <div class="chat outgoing out">
                        <div class="details">
                            <textarea onkeyup="textAreaAdjust(this)" class="OutMsg msg chatText2" type="text">How are you doing</textarea>
                            <div class="userName">Muhammad : Directors : 20:04</div>
                        </div>
                    </div>
                </div>
                <div class="msgRow">
                    <div class="chat incoming inc">
                        <div class="details">
                            <textarea onkeyup="textAreaAdjust(this)" class="IncMsg msg chatText3" type="text">Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged</textarea>
                            <div class="senderName">Muhammad : Directors : 20:04</div>
                        </div>
                    </div>
                    <div class="chat outgoing out">
                        <div class="details">
                            <textarea onkeyup="textAreaAdjust(this)" class="OutMsg msg chatText3" type="text">How are you doing</textarea>
                            <div class="userName">Muhammad : Directors : 20:04</div>
                        </div>
                    </div>
                </div>
                <div class="msgRow">
                    <div class="chat incoming inc">
                        <div class="details">
                            <textarea onkeyup="textAreaAdjust(this)" class="IncMsg msg chatText4" type="text">It was popularised in the 1960s with the release</textarea>
                            <div class="senderName">Muhammad : Directors : 20:04</div>
                        </div>
                    </div>
                    <div class="chat outgoing out">
                        <div class="details">
                            <textarea onkeyup="textAreaAdjust(this)" class="OutMsg msg chatText4" type="text">efault model text, and a sear</textarea>
                            <div class="userName">Muhammad : Directors : 20:04</div>
                        </div>
                    </div>
                </div>
                <div class="msgRow">
                    <div class="chat incoming inc">
                        <div class="details">
                            <textarea onkeyup="textAreaAdjust(this)" class="IncMsg msg chatText5" type="text">Hi Bruh</textarea>
                            <div class="senderName">Muhammad : Directors : 20:04</div>
                        </div>
                    </div>
                    <div class="chat outgoing out">
                        <div class="details">
                            <textarea onkeyup="textAreaAdjust(this)" class="OutMsg msg chatText5" type="text">How are you doing</textarea>
                            <div class="userName">Muhammad : Directors : 20:04</div>
                        </div>
                    </div>
                </div> -->
                <!-- <div class="chat outgoing">
                    <div class="details">
                        <textarea onkeyup="textAreaAdjust(this)" class="OutMsg msg chatText4" type="text">Where can I get some?</textarea>

                    </div>
                </div>
                <div class="chat outgoing">
                    <div class="details">
                        <textarea onkeyup="textAreaAdjust(this)" class="OutMsg msg chatText4" type="text"> </textarea>
                    </div>
                </div>
                <div class="chat incoming">
                    <img src="php/images/1656255815DFF6AF61-0537-498E-83DD-EF6B5E9BDB3E.jpeg" alt=""> 
                <div class="details">
                    <textarea onkeyup="textAreaAdjust(this)" class="IncMsg msg chatText5" type="text"></textarea>
                </div>
            </div>
            <div class="chat incoming">
                <div class="details">
                    <textarea onkeyup="textAreaAdjust(this)" class="IncMsg msg chatText6" type="text"></textarea>
                </div>
            </div> -->
            </div>
            <form action="#" class="typing-area">
                <input type="text" class="incoming_id" name="incoming_id" value="987709432" hidden="">
                <input type="text" name="message" class="input-field" placeholder="Type a message here..." autocomplete="off">
                <button class=""><i class="fab fa-telegram-plane"></i></button>
            </form>
        </section>
    </div>

    <!-- <script src="javascript/chat.js"></script> -->

    <script>
        function textAreaAdjust(element) {
            let chatDetails = element.parentNode.parentNode
            let moreOptions = chatDetails.querySelector(".moreOptions")

            if (moreOptions.style.display == "none") {
                chatDetails.style.height = "1px";
                chatDetails.style.height = (25 + element.scrollHeight) + "px";
            } else {
                reConstructChatTextBox(element.parentNode, 0)
                chatDetails.style.height = "1px";
                chatDetails.style.height = (25 + element.scrollHeight) + "px";
            }

        }

        function moreOptions(element) {
            console.log(element.classList.contains('leftOpt'))
            let chatDetails = element.parentNode;
            let moreOptions = chatDetails.querySelector(".moreOptions")

            if (moreOptions.style.display == "none") {
                if (element.classList.contains('leftOpt')) {
                    reConstructChatTextBox(element, 1, ".chatTextLeft")
                } else {
                    reConstructChatTextBox(element, 1, ".chatTextRight")
                }
            } else {
                if (element.classList.contains('leftOpt')) {
                    reConstructChatTextBox(element, 0, ".chatTextLeft")
                } else {
                    reConstructChatTextBox(element, 0, ".chatTextRight")
                }
            }

        }

        function reConstructChatTextBox(element, toDo, chatText) {
            let chatDetails = element.parentNode;
            let chatTextLeft = chatDetails.querySelector(chatText);
            let moreOptions = chatDetails.querySelector(".moreOptions")
            if (toDo) {
                moreOptions.style.display = "block";
                let chatDetailNewHeight = 28 + chatDetails.scrollHeight;
                let chatTextLeftNewHeight = chatDetails.scrollHeight - 28;
                chatDetails.style.height = chatDetailNewHeight + "px";
                chatTextLeft.style.height = chatTextLeftNewHeight + "px";
            } else {
                moreOptions.style.display = "none"
                let chatDetailNewHeight = chatDetails.scrollHeight - 78;
                let chatTextLeftNewHeight = chatDetails.scrollHeight + 28;
                chatDetails.style.height = chatDetailNewHeight + "px";
                chatTextLeft.style.height = "100%";
            }
        }
    </script>
    <script>
        // for (let index = 1; index <= 1; index++) {
        //     let chatText = document.querySelector(".chatText" + index);
        //     console.log(chatText)
        //     textAreaAdjust(chatText)
        //     // console.log("Chat Text", chatText.value.length)
        // }
    </script>

</body>
<grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration>

</html>